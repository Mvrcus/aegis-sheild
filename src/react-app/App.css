/*
 * ============================================
 * AEGIS SHIELD - APP STYLES
 * ============================================
 * 
 * This file contains component-specific styles.
 * Global design tokens are defined in index.css
 * ============================================
 */

/* ============ LEGACY VARIABLE ALIASES ============ */
/* Maps old variable names to new design system tokens */
/* These are kept for backward compatibility only */
:root {
  /* Colors - map to global tokens */
  --primary-color: var(--color-brand-primary);
  --primary-dark: var(--color-brand-primary-dark);
  --primary-light: var(--color-brand-primary-light);
  --secondary-color: var(--color-brand-secondary);
  --success-color: var(--color-success);
  --warning-color: var(--color-warning);
  --danger-color: var(--color-danger);
  --zeus-color: var(--color-zeus);
  --hestia-color: var(--color-hestia);

  /* Shadows - use global values directly (same names) */
  --shadow: var(--shadow-dark-sm);

  /* Border radius - map to global tokens */
  --border-radius: var(--radius-md);
}

/* ============ LOGIN PAGE TOKENS ============ */
/* Scoped overrides for login - now using global dark theme tokens */
.login-page {
  /* Map to global dark theme tokens for consistency */
  --login-bg-start: var(--dark-bg-start);
  --login-bg-mid: var(--dark-bg-mid);
  --login-bg-end: var(--dark-bg-end);
  --login-accent-blue: var(--accent-blue);
  --login-accent-purple: var(--accent-purple);
  --login-accent-cyan: var(--accent-cyan);
  --login-orb-blue: var(--color-brand-primary-light);
  --login-orb-purple: var(--color-brand-secondary);

  /* Map to global dark text tokens */
  --text-primary: var(--dark-text-primary);
  --text-secondary: var(--dark-text-secondary);
  --text-muted: var(--dark-text-muted);
  --text-subtle: var(--dark-text-subtle);

  /* Responsive spacing for login (viewport-aware) */
  --space-xs: clamp(0.5rem, 1vw, 0.75rem);
  --space-sm: clamp(0.875rem, 1.5vw, 1.25rem);
  --space-md: clamp(1.25rem, 2.5vw, 1.75rem);
  --space-lg: clamp(1.5rem, 3vw, 2.5rem);

  /* Responsive typography for login */
  --text-xs: clamp(0.75rem, 1.5vw, 0.875rem);
  --text-sm: clamp(0.8125rem, 1.5vw, 0.9375rem);
  --text-base: clamp(0.875rem, 1.8vw, 1rem);
  --text-lg: clamp(1rem, 2vw, 1.125rem);
  --text-xl: clamp(1.25rem, 3vw, 1.75rem);
  --text-2xl: clamp(1.5rem, 4vw, 2.25rem);

  /* Icon sizes */
  --icon-sm: clamp(2.25rem, 4vw, 3rem);
  --icon-md: clamp(2.5rem, 5vw, 3.25rem);

  /* Responsive radius */
  --radius-card: clamp(0.75rem, 1.5vw, 1rem);
  --radius-panel: clamp(1rem, 2vw, 1.25rem);
}

/* ============ LOGIN PAGE ============ */
.login-page {
  min-height: 100vh;
  min-height: 100dvh;
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  background: linear-gradient(135deg, var(--login-bg-start) 0%, var(--login-bg-mid) 50%, var(--login-bg-end) 100%);
  padding: var(--space-sm);
  position: relative;
  overflow: hidden;
}

/* Background Orbs */
.bg-orb {
  position: absolute;
  border-radius: 50%;
  filter: blur(clamp(60px, 10vw, 100px));
  opacity: 0.4;
  animation: float 20s infinite ease-in-out;
  pointer-events: none;
}

.orb-1 {
  width: clamp(300px, 40vw, 600px);
  height: clamp(300px, 40vw, 600px);
  background: radial-gradient(circle, var(--login-orb-blue) 0%, transparent 70%);
  top: -10%;
  left: -10%;
}

.orb-2 {
  width: clamp(250px, 35vw, 500px);
  height: clamp(250px, 35vw, 500px);
  background: radial-gradient(circle, var(--login-orb-purple) 0%, transparent 70%);
  bottom: -5%;
  right: -5%;
  animation-delay: 7s;
}

.orb-3 {
  width: clamp(200px, 30vw, 400px);
  height: clamp(200px, 30vw, 400px);
  background: radial-gradient(circle, var(--login-accent-cyan) 0%, transparent 70%);
  top: 50%;
  left: 50%;
  animation-delay: 14s;
}

@keyframes float {
  0%, 100% { transform: translate(0, 0) scale(1); }
  33% { transform: translate(1.5rem, -1.5rem) scale(1.1); }
  66% { transform: translate(-1rem, 1rem) scale(0.9); }
}

/* Layout Container */
.login-container {
  position: relative;
  z-index: 1;
  width: 100%;
  max-width: min(90rem, 95%);
  display: flex;
  flex-direction: column;
  gap: var(--space-md);
  margin: 0 auto;
}

/* Header */
.login-header {
  display: flex;
  flex-direction: column;
  gap: var(--space-lg);
  text-align: center;
  width: 100%;
}

.brand-lockup {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: var(--space-sm);
}

.brand-text {
  text-align: left;
  flex: 1;
}

.brand-text h1 {
  font-size: var(--text-2xl);
  font-weight: 700;
  color: var(--text-primary);
  line-height: 1;
}

.brand-subtitle {
  font-size: var(--text-sm);
  color: var(--text-muted);
  margin-top: 0.375rem;
}

/* Glass Panel Base - shared by multiple components */
.shield-icon,
.value-prop,
.login-card,
.login-option,
.feature-item,
.option-icon {
  background: rgba(30, 41, 59, 0.5);
  border: 1px solid var(--glass-border-subtle);
}

.login-card {
  background: var(--glass-bg);
  backdrop-filter: var(--glass-blur-strong);
  border-color: var(--glass-border);
  box-shadow: 0 1.25rem 2.5rem rgba(0, 0, 0, 0.3);
}

/* Shield Icon */
.shield-icon {
  width: var(--icon-md);
  height: var(--icon-md);
  border-radius: var(--radius-card);
  border-color: var(--glass-border);
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--login-accent-blue);
  flex-shrink: 0;
}

.shield-icon svg {
  width: 60%;
  height: 60%;
}

/* Value Prop */
.value-prop {
  border-radius: var(--radius-panel);
  padding: var(--space-md);
  width: 100%;
}

.value-prop h2 {
  font-size: var(--text-xl);
  font-weight: 600;
  color: var(--text-primary);
  margin-bottom: var(--space-xs);
  line-height: 1.3;
}

.value-prop p {
  font-size: var(--text-base);
  color: var(--text-secondary);
  line-height: 1.6;
}

/* Login Card */
.login-card {
  border-radius: var(--radius-panel);
  padding: var(--space-lg);
  width: 100%;
}

.card-header {
  margin-bottom: var(--space-md);
  text-align: center;
}

.card-header h3 {
  font-size: var(--text-xl);
  font-weight: 600;
  color: var(--text-primary);
  margin-bottom: 0.5rem;
}

.card-header p {
  font-size: var(--text-base);
  color: var(--text-muted);
}

/* Login Options */
.login-options {
  display: flex;
  flex-direction: column;
  gap: var(--space-sm);
  margin-bottom: var(--space-md);
}

.login-option {
  display: flex;
  align-items: center;
  gap: var(--space-sm);
  padding: var(--space-sm);
  border-width: 2px;
  border-radius: var(--radius-card);
  cursor: pointer;
  transition: var(--transition-smooth);
  text-align: left;
  width: 100%;
  position: relative;
  overflow: hidden;
  min-height: 4rem;
}

.login-option::before {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(135deg, rgba(59, 130, 246, 0.1) 0%, rgba(139, 92, 246, 0.1) 100%);
  opacity: 0;
  transition: opacity var(--transition-base);
}

.login-option:hover::before {
  opacity: 1;
}

.login-option:hover {
  border-color: var(--glass-border-hover);
  transform: translateY(-0.125rem);
  box-shadow: 0 0.625rem 1.875rem rgba(0, 0, 0, 0.3);
}

.login-option:active {
  transform: translateY(0);
}

/* Option Icon */
.option-icon {
  width: var(--icon-md);
  height: var(--icon-md);
  border-radius: var(--radius-sm);
  border-color: var(--glass-border);
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  transition: var(--transition-base);
}

.login-option:hover .option-icon {
  background: var(--glass-bg-hover);
  border-color: var(--glass-border-hover);
}

.client-option .option-icon { color: var(--login-accent-blue); }
.admin-option .option-icon { color: var(--login-accent-purple); }

.option-icon svg {
  width: 55%;
  height: 55%;
}

/* Option Content */
.option-content {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 0.25rem;
  min-width: 0;
}

.option-title {
  font-size: var(--text-lg);
  font-weight: 600;
  color: var(--text-primary);
  line-height: 1.3;
}

.option-description {
  font-size: var(--text-sm);
  color: var(--text-muted);
  line-height: 1.4;
}

/* Option Arrow */
.option-arrow {
  width: var(--space-sm);
  height: var(--space-sm);
  color: var(--text-subtle);
  flex-shrink: 0;
  transition: var(--transition-base);
}

.option-arrow svg {
  width: 100%;
  height: 100%;
}

.login-option:hover .option-arrow {
  color: var(--text-secondary);
  transform: translateX(0.25rem);
}

/* Card Footer */
.card-footer {
  text-align: center;
  padding-top: var(--space-sm);
  border-top: 1px solid var(--glass-border-subtle);
}

.demo-note {
  font-size: var(--text-xs);
  color: var(--text-subtle);
  font-weight: 500;
}

/* Feature Grid */
.feature-grid {
  display: none;
  grid-template-columns: repeat(auto-fit, minmax(min(100%, 12rem), 1fr));
  gap: var(--space-sm);
  width: 100%;
}

.feature-item {
  border-radius: var(--radius-card);
  padding: var(--space-md);
  transition: var(--transition-base);
}

.feature-item:hover {
  background: var(--glass-bg);
  border-color: var(--glass-border);
  transform: translateY(-0.125rem);
}

.feature-icon {
  width: var(--icon-sm);
  height: var(--icon-sm);
  border-radius: var(--radius-sm);
  background: var(--glass-bg);
  border: none;
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--login-accent-blue);
  margin-bottom: var(--space-xs);
}

.feature-icon svg {
  width: 55%;
  height: 55%;
}

.feature-item h4 {
  font-size: var(--text-base);
  font-weight: 600;
  color: var(--text-primary);
  margin-bottom: 0.25rem;
  line-height: 1.3;
}

.feature-item p {
  font-size: var(--text-sm);
  color: var(--text-muted);
  line-height: 1.5;
}

/* ============ LOGIN RESPONSIVE ============ */

/* Tablet: Show features */
@media (min-width: 48rem) {
  .feature-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
  }
}

/* Desktop: Side-by-side layout */
@media (min-width: 68rem) and (min-height: 600px) {
  .login-page {
    --space-sm: clamp(0.75rem, 1.5vh, 1.25rem);
    --space-md: clamp(1rem, 2vh, 1.5rem);
  }

  .login-container {
    flex-direction: row;
    flex-wrap: wrap;
    align-items: stretch;
    max-height: calc(100vh - 3rem);
  }

  .login-header {
    flex-basis: 100%;
    text-align: left;
  }

  .brand-lockup {
    justify-content: flex-start;
  }

  .login-card {
    flex: 0 0 clamp(26rem, 42%, 32rem);
    align-self: stretch;
  }

  .feature-grid {
    flex: 1 1 0;
    min-width: 0;
    grid-template-columns: repeat(2, 1fr);
    grid-auto-rows: 1fr;
    align-content: start;
  }
}

/* Large desktop */
@media (min-width: 85rem) and (min-height: 700px) {
  .login-container {
    max-width: 100rem;
  }

  .login-card {
    flex-basis: clamp(28rem, 40%, 36rem);
  }
}

/* Extra large */
@media (min-width: 105rem) and (min-height: 800px) {
  .login-container {
    max-width: 120rem;
  }

  .login-card {
    flex-basis: clamp(30rem, 38%, 40rem);
  }
}

/* ============ DASHBOARD COMMON ============ */
.dashboard {
  min-height: 100vh;
  background: var(--dark-bg);
  position: relative;
}

.dashboard-header {
  background: var(--glass-panel);
  backdrop-filter: var(--glass-blur);
  -webkit-backdrop-filter: var(--glass-blur);
  padding: var(--space-4) var(--space-8);
  display: flex;
  justify-content: space-between;
  align-items: center;
  border-bottom: 1px solid var(--glass-border-subtle);
  box-shadow: var(--shadow-dark-sm);
  position: sticky;
  top: 0;
  z-index: var(--z-sticky);
}

.logo-small {
  display: flex;
  align-items: center;
  gap: var(--space-3);
  font-weight: var(--font-weight-bold);
  font-size: var(--text-xl);
  color: var(--dark-text-primary);
}

.logo-small svg {
  width: var(--space-8);
  height: var(--space-8);
  color: var(--accent-blue);
}

.header-right {
  display: flex;
  align-items: center;
  gap: var(--space-4);
}

.user-name {
  color: var(--dark-text-secondary);
  font-weight: var(--font-weight-medium);
}

.logout-btn {
  padding: var(--space-2) var(--space-4);
  background: var(--glass-panel);
  color: var(--dark-text-secondary);
  border: 1px solid var(--glass-border);
  border-radius: var(--radius-md);
  cursor: pointer;
  font-size: var(--text-sm);
  transition: all var(--transition-base);
}

.logout-btn:hover {
  background: var(--glass-panel-hover);
  border-color: var(--glass-border-hover);
  color: var(--dark-text-primary);
}

/* ============ CLIENT DASHBOARD ============ */
.dashboard-content {
  width: 100%;
  max-width: var(--container-xl);
  margin: 0 auto;
  padding: var(--space-6);
}

.welcome-section {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: var(--space-6);
  gap: var(--space-4);
}

.welcome-content {
  flex: 1;
}

.welcome-section h1 {
  font-size: var(--text-2xl);
  color: var(--dark-text-primary);
  margin: 0 0 var(--space-2) 0;
}

/* Progress Ring */
.welcome-progress {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: var(--space-1);
}

.progress-ring-container {
  position: relative;
  width: 4.5rem;
  height: 4.5rem;
}

.progress-ring {
  width: 100%;
  height: 100%;
  transform: rotate(-90deg);
}

.progress-ring-bg {
  fill: none;
  stroke: var(--glass-input-bg);
  stroke-width: 8;
}

.progress-ring-fill {
  fill: none;
  stroke: url(#progress-gradient);
  stroke-width: 8;
  stroke-linecap: round;
  stroke-dasharray: 264;
  transition: stroke-dashoffset var(--transition-slow);
}

/* Fallback gradient via CSS */
.progress-ring-fill {
  stroke: var(--accent-blue);
}

.progress-ring-text {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  font-size: var(--text-lg);
  font-weight: var(--font-weight-bold);
  color: var(--dark-text-primary);
}

.progress-label {
  font-size: var(--text-xs);
  color: var(--dark-text-muted);
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

/* Client Dashboard Grid Layout */
.client-dashboard-grid {
  display: grid;
  grid-template-columns: 1fr;
  gap: var(--space-6);
  margin-bottom: var(--space-6);
}

.dashboard-main {
  min-width: 0;
}

.dashboard-sidebar {
  display: flex;
  flex-direction: column;
  gap: var(--space-4);
}


/* File List Styles (replaces table on small screens, better for compact view) */
.files-list {
  display: flex;
  flex-direction: column;
  gap: var(--space-2);
}

.file-item {
  display: flex;
  align-items: center;
  gap: var(--space-3);
  padding: var(--space-3);
  background: var(--glass-panel);
  border-radius: var(--radius-md);
  border: 1px solid var(--glass-border-subtle);
  transition: all var(--transition-base);
}

.file-item:hover {
  background: var(--glass-panel-hover);
  border-color: var(--glass-border);
}

.file-item .file-icon {
  font-size: var(--text-lg);
  flex-shrink: 0;
}

.file-info {
  flex: 1;
  min-width: 0;
  display: flex;
  flex-direction: column;
  gap: 0.125rem;
}

.file-name {
  font-size: var(--text-sm);
  color: var(--dark-text-primary);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.file-meta {
  font-size: var(--text-xs);
  color: var(--dark-text-muted);
}

/* Compact Card Styles */
.card.compact {
  padding: var(--space-4);
}

.card.compact h2 {
  font-size: var(--text-base);
  margin-bottom: var(--space-3);
}

/* Compact Meetings */
.meetings-list.compact {
  gap: var(--space-2);
}

.meeting-item.compact {
  padding: var(--space-3);
  flex-direction: column;
  align-items: flex-start;
  gap: var(--space-2);
}

.meeting-item.compact .meeting-info {
  gap: 0.125rem;
}

.meeting-item.compact .meeting-info strong {
  font-size: var(--text-sm);
}

.meeting-item.compact .meeting-date {
  font-size: var(--text-xs);
}

.join-btn.compact {
  width: 100%;
  padding: var(--space-2);
  font-size: var(--text-xs);
  text-align: center;
}

/* Compact Empty State */
.empty-state.compact {
  padding: var(--space-4);
  font-size: var(--text-sm);
}

/* Final Record - Horizontal Layout */
.final-record-content {
  display: flex;
  flex-direction: column;
  gap: var(--space-4);
}

.final-record-info h2 {
  margin-bottom: var(--space-2);
}

.final-record-info p {
  margin: 0;
  color: var(--dark-text-secondary);
  font-size: var(--text-sm);
  line-height: 1.5;
}

.final-record-actions {
  display: flex;
  align-items: center;
  gap: var(--space-3);
  flex-wrap: wrap;
}

@media (min-width: 48rem) {
  .final-record-content {
    flex-direction: row;
    justify-content: space-between;
    align-items: center;
  }

  .final-record-info {
    flex: 1;
  }

  .final-record-actions {
    flex-shrink: 0;
  }
}

/* Compact File List */
.files-list.compact {
  gap: var(--space-1);
}

.file-item.compact {
  padding: var(--space-2);
  gap: var(--space-2);
}

.file-item.compact .file-icon {
  font-size: var(--text-sm);
}

.file-item.compact .file-name {
  font-size: var(--text-xs);
}

.file-item.compact .file-meta {
  font-size: 0.65rem;
}

/* Compact Upload Button */
.upload-btn.compact {
  padding: var(--space-1) var(--space-2);
  font-size: var(--text-sm);
  min-width: var(--space-7);
  text-align: center;
}

/* Compact Download Button */
.download-btn.compact {
  padding: var(--space-2);
  background: transparent;
  border: 1px solid var(--glass-border);
  border-radius: var(--radius-md);
  color: var(--dark-text-muted);
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  cursor: pointer;
  transition: all var(--transition-base);
}

.download-btn.compact svg {
  width: 1rem;
  height: 1rem;
}

.download-btn.compact:hover {
  background: var(--glass-panel-hover);
  border-color: var(--accent-blue);
  color: var(--accent-blue);
}

/* Desktop Grid Layout */
@media (min-width: 64rem) {
  .dashboard-content {
    padding: var(--space-8);
  }

  .welcome-section h1 {
    font-size: var(--text-3xl);
  }

  .progress-ring-container {
    width: 5rem;
    height: 5rem;
  }

  .progress-ring-text {
    font-size: var(--text-xl);
  }

  .client-dashboard-grid {
    grid-template-columns: 1fr 18rem;
    gap: var(--space-6);
  }

  /* Make phases more compact in grid */
  .phases-section .phases-list {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(16rem, 1fr));
    gap: var(--space-4);
  }

  .phase-item {
    margin-bottom: 0;
  }
}

/* Large Desktop */
@media (min-width: 80rem) {
  .dashboard-content {
    padding: var(--space-10);
  }

  .client-dashboard-grid {
    grid-template-columns: 1fr 20rem;
    gap: var(--space-8);
  }

  .progress-ring-container {
    width: 5.5rem;
    height: 5.5rem;
  }
}

/* Extra Large Desktop */
@media (min-width: 100rem) {
  .client-dashboard-grid {
    grid-template-columns: 1fr 22rem;
  }

  .phases-section .phases-list {
    grid-template-columns: repeat(3, 1fr);
  }
}

.product-badge {
  display: flex;
  align-items: center;
  gap: var(--space-4);
  flex-wrap: wrap;
}

.badge {
  display: inline-block;
  padding: var(--space-2) var(--space-4);
  border-radius: var(--radius-full);
  font-weight: var(--font-weight-semibold);
  font-size: var(--text-sm);
  color: var(--dark-text-primary);
}

.badge.zeus {
  background: linear-gradient(135deg, var(--color-zeus) 0%, var(--accent-purple) 100%);
  box-shadow: var(--shadow-glow-purple);
}

.badge.hestia {
  background: linear-gradient(135deg, var(--color-hestia) 0%, var(--accent-cyan) 100%);
  box-shadow: var(--shadow-glow-cyan);
}

.badge.large {
  padding: var(--space-2) var(--space-5);
  font-size: var(--text-base);
}

.modules-list {
  color: var(--dark-text-secondary);
  font-size: var(--text-sm);
}

.card {
  background: rgba(30, 41, 59, 0.8);
  border: 1px solid var(--glass-border-subtle);
  border-radius: var(--radius-lg);
  padding: var(--space-6);
  box-shadow: var(--shadow-dark-md);
  margin-bottom: var(--space-6);
}

.card h2 {
  font-size: var(--text-xl);
  color: var(--dark-text-primary);
  margin: 0 0 var(--space-4) 0;
}

/* Progress Bar */
.progress-container {
  display: flex;
  align-items: center;
  gap: var(--space-4);
}

.progress-bar {
  flex: 1;
  height: var(--progress-height);
  background: var(--glass-input-bg);
  border-radius: var(--radius-full);
  overflow: hidden;
}

.progress-bar.large {
  height: var(--progress-height-lg);
}

.progress-fill {
  height: 100%;
  background: linear-gradient(90deg, var(--accent-blue) 0%, var(--accent-purple) 100%);
  border-radius: var(--radius-full);
  transition: width var(--transition-slow);
  box-shadow: var(--shadow-glow-blue);
}

.progress-text {
  font-weight: var(--font-weight-semibold);
  color: var(--dark-text-primary);
  white-space: nowrap;
}

/* Phases */
.phases-list {
  display: flex;
  flex-direction: column;
  gap: var(--space-4);
}

.phase-item {
  background: rgba(30, 41, 59, 0.6);
  border: 1px solid var(--glass-border-subtle);
  border-radius: var(--radius-md);
  padding: var(--space-4);
}

.phase-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: var(--space-2);
}

.phase-header h3 {
  font-size: var(--text-base);
  color: var(--dark-text-primary);
  margin: 0;
}

.phase-progress {
  font-size: var(--text-sm);
  color: var(--dark-text-muted);
}

.phase-progress-bar {
  height: var(--progress-height-sm);
  background: var(--glass-input-bg);
  border-radius: var(--radius-full);
  overflow: hidden;
  margin-bottom: var(--space-3);
}

.phase-fill {
  height: 100%;
  background: linear-gradient(90deg, var(--color-success) 0%, var(--accent-cyan) 100%);
  border-radius: var(--radius-full);
  transition: width var(--transition-slow);
}

.steps-list {
  list-style: none;
  padding: 0;
  margin: 0;
  display: flex;
  flex-direction: column;
  gap: var(--space-2);
}

.steps-list li {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  font-size: var(--text-sm);
  color: var(--dark-text-secondary);
}

.steps-list li.completed {
  color: var(--dark-text-subtle);
  text-decoration: line-through;
}

.step-check {
  font-size: var(--text-sm);
  width: var(--space-5);
  text-align: center;
}

.steps-list li.completed .step-check {
  color: var(--color-success);
}

/* Section Header */
.section-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: var(--space-4);
}

.section-header h2 {
  margin: 0;
}

/* Files Table */
.files-table {
  width: 100%;
  border-collapse: collapse;
  font-size: var(--text-sm);
}

.files-table th,
.files-table td {
  text-align: left;
  padding: var(--table-cell-padding);
  border-bottom: 1px solid var(--glass-border-subtle);
}

.files-table th {
  font-weight: var(--font-weight-semibold);
  color: var(--dark-text-muted);
  font-size: var(--text-xs);
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.files-table td {
  color: var(--dark-text-secondary);
}

.files-table tbody tr:hover {
  background: var(--glass-panel-hover);
}

.file-icon {
  margin-right: var(--space-2);
}

.capitalize {
  text-transform: capitalize;
}

.empty-state {
  color: var(--dark-text-muted);
  text-align: center;
  padding: var(--space-8);
  background: var(--glass-input-bg);
  border: 1px solid var(--glass-border-subtle);
  border-radius: var(--radius-md);
}

/* Buttons */
.upload-btn,
.add-btn {
  padding: var(--space-2) var(--space-4);
  background: linear-gradient(135deg, var(--color-brand-primary) 0%, var(--color-brand-secondary) 100%);
  color: var(--dark-text-primary);
  border: none;
  border-radius: var(--radius-md);
  cursor: pointer;
  font-size: var(--text-sm);
  font-weight: var(--font-weight-medium);
  transition: all var(--transition-base);
  box-shadow: var(--shadow-glow-blue);
}

.upload-btn:hover,
.add-btn:hover {
  filter: brightness(1.1);
  box-shadow: var(--shadow-glow-purple);
}

.download-btn {
  padding: var(--space-1) var(--space-3);
  background: var(--glass-panel);
  color: var(--accent-blue);
  border: 1px solid var(--accent-blue);
  border-radius: var(--radius-md);
  cursor: pointer;
  font-size: var(--text-sm);
  transition: all var(--transition-base);
}

.download-btn:hover {
  background: rgba(96, 165, 250, 0.2);
  box-shadow: var(--shadow-glow-blue);
}

/* Meetings */
.meetings-list {
  display: flex;
  flex-direction: column;
  gap: var(--space-3);
}

.meeting-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: var(--space-4);
  background: rgba(30, 41, 59, 0.6);
  border-radius: var(--radius-md);
  border: 1px solid var(--glass-border-subtle);
}

.meeting-info {
  display: flex;
  flex-direction: column;
  gap: var(--space-1);
}

.meeting-info strong {
  color: var(--dark-text-primary);
}

.meeting-date {
  font-size: var(--text-sm);
  color: var(--dark-text-muted);
}

.join-btn {
  padding: var(--space-2) var(--space-4);
  background: linear-gradient(135deg, var(--color-success) 0%, var(--accent-cyan) 100%);
  color: var(--dark-text-primary);
  border: none;
  border-radius: var(--radius-md);
  text-decoration: none;
  font-size: var(--text-sm);
  font-weight: var(--font-weight-medium);
  transition: all var(--transition-base);
  box-shadow: var(--shadow-glow-cyan);
}

.join-btn:hover {
  filter: brightness(1.1);
  color: var(--dark-text-primary);
}

/* Final Record */
.record-status {
  display: flex;
  align-items: center;
  gap: var(--space-3);
  margin: var(--space-4) 0;
}

.status-label {
  color: var(--dark-text-secondary);
}

.status-badge {
  padding: var(--space-1) var(--space-3);
  border-radius: var(--radius-full);
  font-size: var(--text-sm);
  font-weight: var(--font-weight-medium);
}

.status-badge.not_requested {
  background: var(--glass-panel);
  color: var(--dark-text-muted);
  border: 1px solid var(--glass-border-subtle);
}

.status-badge.requested {
  background: rgba(245, 158, 11, 0.2);
  color: var(--color-warning);
  border: 1px solid rgba(245, 158, 11, 0.3);
}

.status-badge.generated {
  background: rgba(16, 185, 129, 0.2);
  color: var(--color-success);
  border: 1px solid rgba(16, 185, 129, 0.3);
}

.status-badge.delivered {
  background: rgba(96, 165, 250, 0.2);
  color: var(--accent-blue);
  border: 1px solid rgba(96, 165, 250, 0.3);
}

.request-record-btn {
  padding: var(--space-3) var(--space-6);
  background: linear-gradient(135deg, var(--color-brand-primary) 0%, var(--color-brand-secondary) 100%);
  color: var(--dark-text-primary);
  border: none;
  border-radius: var(--radius-md);
  cursor: pointer;
  font-size: var(--text-base);
  font-weight: var(--font-weight-medium);
  transition: all var(--transition-base);
  box-shadow: var(--shadow-glow-blue);
}

.request-record-btn:hover {
  filter: brightness(1.1);
}

.download-record-btn {
  padding: var(--space-3) var(--space-6);
  background: linear-gradient(135deg, var(--color-success) 0%, var(--accent-cyan) 100%);
  color: var(--dark-text-primary);
  border: none;
  border-radius: var(--radius-md);
  cursor: pointer;
  font-size: var(--text-base);
  font-weight: var(--font-weight-medium);
  transition: all var(--transition-base);
  box-shadow: var(--shadow-glow-cyan);
}

.download-record-btn:hover {
  filter: brightness(1.1);
}

/* ============ MODAL ============ */
.modal-overlay {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.7);
  backdrop-filter: blur(4px);
  -webkit-backdrop-filter: blur(4px);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: var(--z-modal);
  padding: var(--space-4);
  overflow-y: auto;
}

.modal {
  background: rgba(30, 41, 59, 0.95);
  border: 1px solid var(--glass-border);
  border-radius: var(--radius-lg);
  padding: var(--space-6);
  max-width: var(--modal-width-sm);
  width: 100%;
  box-shadow: var(--shadow-dark-lg);
  max-height: calc(100vh - var(--space-8));
  overflow-y: auto;
  margin: auto;
}

.modal h3 {
  margin: 0 0 var(--space-4) 0;
  color: var(--dark-text-primary);
}

.upload-area {
  border: 2px dashed var(--glass-border);
  border-radius: var(--radius-md);
  padding: var(--space-8);
  text-align: center;
  background: var(--glass-input-bg);
  cursor: pointer;
  transition: all var(--transition-base);
}

.upload-area:hover {
  border-color: var(--accent-blue);
  background: rgba(96, 165, 250, 0.1);
}

.upload-icon {
  font-size: var(--text-4xl);
  margin-bottom: var(--space-3);
}

.upload-area p {
  margin: 0 0 var(--space-2) 0;
  color: var(--dark-text-secondary);
}

.upload-hint {
  font-size: var(--text-sm);
  color: var(--dark-text-subtle) !important;
}

.file-input {
  display: none;
}

.modal-actions {
  display: flex;
  justify-content: flex-end;
  gap: var(--space-3);
  margin-top: var(--space-6);
}

.cancel-btn {
  padding: var(--space-2) var(--space-4);
  background: var(--glass-panel);
  color: var(--dark-text-secondary);
  border: 1px solid var(--glass-border);
  border-radius: var(--radius-md);
  cursor: pointer;
  font-size: var(--text-sm);
  transition: all var(--transition-base);
}

.cancel-btn:hover {
  background: var(--glass-panel-hover);
  color: var(--dark-text-primary);
}

.submit-btn {
  padding: var(--space-2) var(--space-4);
  background: linear-gradient(135deg, var(--color-brand-primary) 0%, var(--color-brand-secondary) 100%);
  color: var(--dark-text-primary);
  border: none;
  border-radius: var(--radius-md);
  cursor: pointer;
  font-size: var(--text-sm);
  font-weight: var(--font-weight-medium);
  transition: all var(--transition-base);
  box-shadow: var(--shadow-glow-blue);
}

.submit-btn:hover {
  filter: brightness(1.1);
}

/* ============ ADMIN PANEL ============ */
.admin-dashboard {
  width: 100%;
  max-width: 100%;
  display: flex;
  flex-direction: column;
  background: var(--dark-bg);
  min-height: 100vh;
}

.admin-header {
  background: var(--glass-panel);
  backdrop-filter: var(--glass-blur);
  -webkit-backdrop-filter: var(--glass-blur);
  border-bottom: 1px solid var(--glass-border-subtle);
  width: 100%;
}

.admin-header .logo-small {
  color: var(--dark-text-primary);
}

.admin-header .logo-small svg {
  color: var(--accent-blue);
}

.admin-header .user-name {
  color: var(--dark-text-secondary);
}

.admin-header .logout-btn {
  background: var(--glass-panel);
  color: var(--dark-text-secondary);
  border-color: var(--glass-border);
}

.admin-header .logout-btn:hover {
  background: var(--glass-panel-hover);
  color: var(--dark-text-primary);
}

.admin-layout {
  display: flex;
  min-height: calc(100vh - 4rem);
  width: 100%;
  flex: 1;
}

/* Admin sections grid layout */
.admin-sections-grid {
  display: grid;
  grid-template-columns: 1fr;
  gap: var(--space-6);
  margin-bottom: var(--space-6);
}

.admin-sections-grid .admin-section {
  margin-bottom: 0;
}

/* Full width sections (tables) */
.admin-section.full-width {
  grid-column: 1 / -1;
}

/* 2 columns on medium+ screens */
@media (min-width: 64rem) {
  .admin-sections-grid {
    grid-template-columns: repeat(2, 1fr);
  }
}

/* 3 columns on extra wide screens */
@media (min-width: 100rem) {
  .admin-sections-grid {
    grid-template-columns: repeat(3, 1fr);
  }
}

/* Sidebar */
.client-sidebar {
  position: sticky;
  top: 4rem;
  height: calc(100vh - 4rem);
  width: var(--sidebar-width);
  background: rgba(15, 23, 42, 0.95);
  border-right: 1px solid var(--glass-border-subtle);
  flex-shrink: 0;
  display: flex;
  flex-direction: column;
  transition: width var(--transition-smooth);
  overflow: visible;
}

/* Collapsed sidebar state */
.admin-layout.sidebar-collapsed-state .client-sidebar {
  width: 5rem;
}

/* Expand button - floating circle on edge */
.sidebar-expand-btn {
  position: absolute;
  top: var(--space-4);
  right: -0.875rem;
  width: 1.75rem;
  height: 1.75rem;
  padding: 0;
  background: var(--glass-card);
  border: 1px solid var(--glass-border);
  border-radius: var(--radius-full);
  color: var(--dark-text-secondary);
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all var(--transition-base);
  z-index: 10;
  opacity: 0;
  pointer-events: none;
  box-shadow: var(--shadow-dark-sm);
}

.sidebar-expand-btn svg {
  width: 1rem;
  height: 1rem;
}

.admin-layout.sidebar-collapsed-state .sidebar-expand-btn {
  opacity: 1;
  pointer-events: auto;
}

.sidebar-expand-btn:hover {
  background: var(--accent-blue);
  color: var(--dark-text-primary);
  border-color: var(--accent-blue);
  transform: scale(1.1);
}

/* Collapsed content (avatars only) */
.sidebar-collapsed-content {
  display: none;
  flex-direction: column;
  height: 100%;
  padding: var(--space-3);
  padding-top: var(--space-4);
  overflow: hidden;
}

.admin-layout.sidebar-collapsed-state .sidebar-collapsed-content {
  display: flex;
}

.admin-layout.sidebar-collapsed-state .sidebar-expanded {
  display: none;
}

/* Client avatars list (collapsed) */
.client-avatars {
  list-style: none;
  padding: 0;
  margin: 0;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: var(--space-2);
  overflow-y: auto;
  flex: 1;
}

.client-avatar {
  width: 2.5rem;
  height: 2.5rem;
  border-radius: var(--radius-full);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: var(--text-xs);
  font-weight: var(--font-weight-bold);
  cursor: pointer;
  transition: all var(--transition-base);
  flex-shrink: 0;
}

.client-avatar.zeus {
  background: linear-gradient(135deg, var(--color-zeus) 0%, var(--accent-purple) 100%);
  color: var(--dark-text-primary);
}

.client-avatar.hestia {
  background: linear-gradient(135deg, var(--color-hestia) 0%, var(--accent-cyan) 100%);
  color: var(--dark-text-primary);
}

.client-avatar:hover {
  transform: scale(1.1);
  box-shadow: var(--shadow-dark-md);
}

.client-avatar.selected {
  box-shadow: 0 0 0 2px var(--accent-blue), var(--shadow-dark-md);
}

/* Expanded view */
.sidebar-expanded {
  display: flex;
  flex-direction: column;
  height: 100%;
}

.sidebar-header {
  padding: var(--space-4);
  border-bottom: 1px solid var(--glass-border-subtle);
}

.sidebar-header h2 {
  margin: 0 0 var(--space-3) 0;
  font-size: var(--text-lg);
  color: var(--dark-text-primary);
}

.search-input {
  width: 100%;
  padding: var(--space-2) var(--space-3);
  background: var(--glass-input-bg);
  border: 1px solid var(--glass-input-border);
  border-radius: var(--radius-md);
  font-size: var(--text-sm);
  color: var(--dark-text-primary);
}

.search-input::placeholder {
  color: var(--dark-text-subtle);
}

.search-input:focus {
  outline: none;
  border-color: var(--accent-blue);
  box-shadow: var(--shadow-glow-blue);
}

.client-list {
  list-style: none;
  padding: 0;
  margin: 0;
  overflow-y: auto;
  flex: 1;
}

.client-item {
  display: flex;
  align-items: center;
  gap: var(--space-3);
  padding: var(--space-3) var(--space-4);
  border-bottom: 1px solid var(--glass-border-subtle);
  cursor: pointer;
  transition: all var(--transition-base);
}

.client-item:hover {
  background: var(--glass-panel-hover);
}

.client-item.selected {
  background: var(--glass-panel-active);
  border-left: 3px solid var(--accent-blue);
}

/* Inline avatar in expanded list */
.client-avatar-inline {
  width: 2.5rem;
  height: 2.5rem;
  border-radius: var(--radius-full);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: var(--text-xs);
  font-weight: var(--font-weight-bold);
  flex-shrink: 0;
  color: var(--dark-text-primary);
}

.client-avatar-inline[data-product="zeus"] {
  background: linear-gradient(135deg, var(--color-zeus) 0%, var(--accent-purple) 100%);
}

.client-avatar-inline[data-product="hestia"] {
  background: linear-gradient(135deg, var(--color-hestia) 0%, var(--accent-cyan) 100%);
}

.client-info {
  display: flex;
  flex-direction: column;
  gap: var(--space-1);
  flex: 1;
  min-width: 0;
}

.client-info strong {
  color: var(--dark-text-primary);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.client-email {
  font-size: var(--text-sm);
  color: var(--dark-text-muted);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.client-meta {
  display: flex;
  flex-direction: column;
  align-items: flex-end;
  gap: var(--space-1);
  flex-shrink: 0;
}

.product-tag {
  font-size: var(--text-xs);
  padding: var(--space-1) var(--space-2);
  border-radius: var(--radius-sm);
  font-weight: var(--font-weight-semibold);
}

.product-tag.zeus {
  background: rgba(124, 58, 237, 0.2);
  color: var(--accent-purple);
  border: 1px solid rgba(124, 58, 237, 0.3);
}

.product-tag.hestia {
  background: rgba(5, 150, 105, 0.2);
  color: var(--color-success);
  border: 1px solid rgba(5, 150, 105, 0.3);
}

.progress-tag {
  font-size: var(--text-xs);
  color: var(--dark-text-muted);
}

/* Admin Main Content */
.admin-main {
  flex: 1;
  padding: var(--space-8);
  display: flex;
  flex-direction: column;
  min-width: 0;
  min-height: calc(100vh - 4rem);
}

.client-detail {
  width: 100%;
}

.detail-header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  margin-bottom: var(--space-8);
  padding-bottom: var(--space-6);
  border-bottom: 1px solid var(--glass-border-subtle);
}

.detail-header h1 {
  margin: 0 0 var(--space-1) 0;
  font-size: var(--text-2xl);
  color: var(--dark-text-primary);
}

.product-info {
  text-align: right;
}

.modules-edit {
  margin-top: var(--space-2);
  font-size: var(--text-sm);
  color: var(--dark-text-secondary);
}

.admin-section {
  background: rgba(30, 41, 59, 0.8);
  border: 1px solid var(--glass-border-subtle);
  border-radius: var(--radius-lg);
  padding: var(--space-6);
  box-shadow: var(--shadow-dark-md);
  margin-bottom: var(--space-6);
}

.admin-section h2 {
  margin: 0 0 var(--space-4) 0;
  font-size: var(--text-lg);
  color: var(--dark-text-primary);
}

/* Progress Control */
.progress-control {
  display: flex;
  align-items: center;
  gap: var(--space-4);
}

.progress-display {
  flex: 1;
  display: flex;
  align-items: center;
  gap: var(--space-4);
}

/* Phases Admin */
.phases-admin {
  display: grid;
  gap: var(--space-4);
}

.phase-admin-item {
  background: rgba(30, 41, 59, 0.6);
  border: 1px solid var(--glass-border-subtle);
  border-radius: var(--radius-md);
  padding: var(--space-4);
}

.phase-admin-item h3 {
  margin: 0 0 var(--space-3) 0;
  font-size: var(--text-base);
  color: var(--dark-text-primary);
}

.steps-admin-list {
  list-style: none;
  padding: 0;
  margin: 0;
  display: flex;
  flex-direction: column;
  gap: var(--space-2);
}

.step-checkbox {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  cursor: pointer;
  font-size: var(--text-sm);
  color: var(--dark-text-secondary);
}

.step-checkbox input[type="checkbox"] {
  width: var(--space-4);
  height: var(--space-4);
  cursor: pointer;
  accent-color: var(--accent-blue);
}

.step-checkbox span.completed {
  text-decoration: line-through;
  color: var(--dark-text-subtle);
}

/* Action Buttons */
.action-btn {
  padding: var(--space-1) var(--space-2);
  background: var(--glass-panel);
  color: var(--dark-text-secondary);
  border: 1px solid var(--glass-border);
  border-radius: var(--radius-sm);
  cursor: pointer;
  font-size: var(--text-xs);
  margin-right: var(--space-1);
  transition: all var(--transition-base);
}

.action-btn:hover {
  background: var(--glass-panel-hover);
  color: var(--dark-text-primary);
}

.action-btn.danger {
  color: var(--color-danger);
  border-color: rgba(239, 68, 68, 0.3);
}

.action-btn.danger:hover {
  background: rgba(239, 68, 68, 0.2);
  color: var(--color-danger);
}

/* Meetings Admin */
.meetings-admin-list {
  display: flex;
  flex-direction: column;
  gap: var(--space-3);
}

.meeting-admin-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: var(--space-4);
  background: rgba(30, 41, 59, 0.6);
  border-radius: var(--radius-md);
  border: 1px solid var(--glass-border-subtle);
}

.meeting-admin-item > div:first-child {
  display: flex;
  flex-direction: column;
  gap: var(--space-1);
}

.meeting-admin-item a {
  font-size: var(--text-sm);
  color: var(--accent-blue);
}

.meeting-actions {
  display: flex;
  gap: var(--space-2);
}

/* Final Record Admin */
.final-record-admin {
  display: flex;
  justify-content: space-between;
  align-items: center;
  flex-wrap: wrap;
  gap: var(--space-4);
}

.record-status-admin {
  display: flex;
  align-items: center;
  gap: var(--space-3);
}

.status-indicator {
  padding: var(--space-1) var(--space-3);
  border-radius: var(--radius-full);
  color: var(--dark-text-primary);
  font-size: var(--text-xs);
  font-weight: var(--font-weight-semibold);
}

.record-actions {
  display: flex;
  gap: var(--space-2);
}

.generate-btn {
  padding: var(--space-2) var(--space-4);
  background: linear-gradient(135deg, var(--color-warning) 0%, #f97316 100%);
  color: var(--dark-text-primary);
  border: none;
  border-radius: var(--radius-md);
  cursor: pointer;
  font-size: var(--text-sm);
  font-weight: var(--font-weight-medium);
  transition: all var(--transition-base);
  box-shadow: 0 0 20px rgba(245, 158, 11, 0.3);
}

.generate-btn:hover {
  filter: brightness(1.1);
}

.deliver-btn {
  padding: var(--space-2) var(--space-4);
  background: linear-gradient(135deg, var(--color-success) 0%, var(--accent-cyan) 100%);
  color: var(--dark-text-primary);
  border: none;
  border-radius: var(--radius-md);
  cursor: pointer;
  font-size: var(--text-sm);
  font-weight: var(--font-weight-medium);
  transition: all var(--transition-base);
  box-shadow: var(--shadow-glow-cyan);
}

.deliver-btn:hover {
  filter: brightness(1.1);
}

.sync-btn {
  padding: var(--space-2) var(--space-4);
  background: var(--glass-panel);
  color: var(--dark-text-secondary);
  border: 1px solid var(--glass-border);
  border-radius: var(--radius-md);
  cursor: pointer;
  font-size: var(--text-sm);
  font-weight: var(--font-weight-medium);
  transition: all var(--transition-base);
}

.sync-btn:hover {
  background: var(--glass-panel-hover);
  color: var(--dark-text-primary);
}

/* No Selection State */
.no-selection {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  min-height: 25rem;
  height: 100%;
  flex: 1;
  text-align: center;
  color: var(--dark-text-muted);
  padding: var(--space-8);
}

.no-selection-icon {
  width: var(--space-20);
  height: var(--space-20);
  background: var(--glass-panel);
  border: 1px solid var(--glass-border-subtle);
  border-radius: var(--radius-full);
  display: flex;
  align-items: center;
  justify-content: center;
  margin-bottom: var(--space-4);
}

.no-selection-icon svg {
  width: var(--space-10);
  height: var(--space-10);
  color: var(--dark-text-subtle);
}

.no-selection h2 {
  color: var(--dark-text-secondary);
  margin: 0 0 var(--space-2) 0;
}

.no-selection p {
  margin: 0;
}

/* ============ ADMIN NAVIGATION ============ */
.admin-nav {
  display: flex;
  gap: var(--space-2);
  margin-left: var(--space-8);
}

.nav-tab {
  padding: var(--space-2) var(--space-4);
  background: transparent;
  color: var(--dark-text-muted);
  border: none;
  border-radius: var(--radius-md);
  cursor: pointer;
  font-size: var(--text-sm);
  font-weight: var(--font-weight-medium);
  transition: all var(--transition-base);
}

.nav-tab:hover {
  background: var(--glass-panel-hover);
  color: var(--dark-text-primary);
}

.nav-tab.active {
  background: linear-gradient(135deg, var(--color-brand-primary) 0%, var(--color-brand-secondary) 100%);
  color: var(--dark-text-primary);
  box-shadow: var(--shadow-glow-blue);
}

/* ============ PHASE TEMPLATE MANAGER ============ */
.admin-templates-view {
  padding: var(--space-8);
  max-width: var(--container-lg);
  margin: 0 auto;
}

.phase-template-manager {
  background: rgba(30, 41, 59, 0.8);
  border: 1px solid var(--glass-border-subtle);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-dark-md);
}

.template-header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  padding: var(--space-6);
  border-bottom: 1px solid var(--glass-border-subtle);
}

.template-header h2 {
  margin: 0 0 var(--space-1) 0;
  font-size: var(--text-xl);
  color: var(--dark-text-primary);
}

.template-subtitle {
  margin: 0;
  font-size: var(--text-sm);
  color: var(--dark-text-muted);
}

.add-phase-btn {
  padding: var(--space-2) var(--space-5);
  background: linear-gradient(135deg, var(--color-brand-primary) 0%, var(--color-brand-secondary) 100%);
  color: var(--dark-text-primary);
  border: none;
  border-radius: var(--radius-md);
  cursor: pointer;
  font-size: var(--text-sm);
  font-weight: var(--font-weight-medium);
  transition: all var(--transition-base);
  white-space: nowrap;
  box-shadow: var(--shadow-glow-blue);
}

.add-phase-btn:hover {
  filter: brightness(1.1);
}

.templates-list {
  padding: var(--space-6);
  display: flex;
  flex-direction: column;
  gap: var(--space-6);
}

.template-phase-card {
  border: 1px solid var(--glass-border-subtle);
  border-radius: var(--radius-md);
  overflow: hidden;
  background: var(--glass-panel);
}

.template-phase-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: var(--space-4) var(--space-5);
  background: var(--glass-panel);
  border-bottom: 1px solid var(--glass-border-subtle);
}

.phase-title-row {
  display: flex;
  align-items: center;
  gap: var(--space-4);
}

.phase-order-controls {
  display: flex;
  flex-direction: column;
  gap: 2px;
}

.order-btn {
  width: var(--space-6);
  height: var(--space-5);
  padding: 0;
  background: var(--glass-panel);
  border: 1px solid var(--glass-border);
  border-radius: var(--radius-sm);
  cursor: pointer;
  font-size: var(--text-xs);
  line-height: 1;
  color: var(--dark-text-muted);
  transition: all var(--transition-base);
  display: flex;
  align-items: center;
  justify-content: center;
}

.order-btn:hover:not(:disabled) {
  background: var(--glass-panel-hover);
  color: var(--dark-text-primary);
}

.order-btn:disabled {
  opacity: 0.4;
  cursor: not-allowed;
}

.order-btn.small {
  width: var(--space-5);
  height: var(--space-4);
  font-size: 0.6rem;
}

.phase-title-info h3 {
  margin: 0 0 var(--space-1) 0;
  font-size: var(--text-base);
  color: var(--dark-text-primary);
}

.phase-module-tags {
  font-size: var(--text-xs);
  color: var(--dark-text-muted);
}

.phase-actions {
  display: flex;
  gap: var(--space-2);
}

.template-steps-list {
  padding: var(--space-4) var(--space-5);
}

.no-steps {
  color: var(--dark-text-subtle);
  font-size: var(--text-sm);
  font-style: italic;
  margin: 0;
  padding: var(--space-2) 0;
}

.template-step-item {
  display: flex;
  align-items: center;
  gap: var(--space-3);
  padding: var(--space-2) 0;
  border-bottom: 1px solid var(--glass-border-subtle);
}

.template-step-item:last-child {
  border-bottom: none;
}

.step-order-controls {
  display: flex;
  flex-direction: column;
  gap: 2px;
}

.step-number {
  font-size: var(--text-sm);
  color: var(--dark-text-subtle);
  width: var(--space-6);
  flex-shrink: 0;
}

.step-name {
  flex: 1;
  font-size: var(--text-sm);
  color: var(--dark-text-secondary);
}

.step-actions {
  display: flex;
  gap: var(--space-1);
  opacity: 0;
  transition: opacity var(--transition-base);
  flex-shrink: 0;
}

.template-step-item:hover .step-actions {
  opacity: 1;
}

.action-btn.small {
  padding: var(--space-1) var(--space-2);
  font-size: var(--text-xs);
}

/* Icon-only buttons */
.action-btn.icon-btn {
  padding: var(--space-1);
  display: flex;
  align-items: center;
  justify-content: center;
}

.action-btn.icon-btn svg {
  width: 1rem;
  height: 1rem;
}

.action-btn.small.icon-btn svg {
  width: 0.875rem;
  height: 0.875rem;
}

.add-step-btn {
  margin: var(--space-3) var(--space-5) var(--space-4);
  padding: var(--space-2) var(--space-4);
  background: transparent;
  color: var(--accent-blue);
  border: 1px dashed var(--accent-blue);
  border-radius: var(--radius-md);
  cursor: pointer;
  font-size: var(--text-sm);
  transition: all var(--transition-base);
}

.add-step-btn:hover {
  background: rgba(96, 165, 250, 0.1);
}

.add-step-form {
  margin: var(--space-3) var(--space-5) var(--space-4);
  display: flex;
  flex-direction: column;
  gap: var(--space-3);
}

.add-step-form input {
  padding: var(--space-2) var(--space-3);
  background: var(--glass-input-bg);
  border: 1px solid var(--glass-input-border);
  border-radius: var(--radius-md);
  font-size: var(--text-sm);
  color: var(--dark-text-primary);
}

.add-step-form input:focus {
  outline: none;
  border-color: var(--accent-blue);
  box-shadow: var(--shadow-glow-blue);
}

.form-actions {
  display: flex;
  justify-content: flex-end;
  gap: var(--space-2);
}

.empty-templates {
  text-align: center;
  padding: var(--space-12) var(--space-8);
  color: var(--dark-text-muted);
}

.empty-templates p {
  margin: var(--space-2) 0;
}

/* Phase Modal Styles */
.phase-modal {
  max-width: var(--modal-width-md);
}

.form-group {
  margin-bottom: var(--space-5);
}

.form-group label {
  display: block;
  font-weight: var(--font-weight-semibold);
  color: var(--dark-text-primary);
  margin-bottom: var(--space-2);
  font-size: var(--text-sm);
}

.form-group input[type="text"] {
  width: 100%;
  padding: var(--space-2) var(--space-3);
  background: var(--glass-input-bg);
  border: 1px solid var(--glass-input-border);
  border-radius: var(--radius-md);
  font-size: var(--text-sm);
  color: var(--dark-text-primary);
}

.form-group input[type="text"]:focus {
  outline: none;
  border-color: var(--accent-blue);
  box-shadow: var(--shadow-glow-blue);
}

.form-hint {
  font-size: var(--text-xs);
  color: var(--dark-text-muted);
  margin: 0 0 var(--space-3) 0;
}

.module-checkboxes {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: var(--space-2);
}

.module-checkbox {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  cursor: pointer;
  font-size: var(--text-sm);
  color: var(--dark-text-secondary);
}

.module-checkbox input[type="checkbox"] {
  width: var(--space-4);
  height: var(--space-4);
  cursor: pointer;
  accent-color: var(--accent-blue);
}

.submit-btn:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

/* ============ NEW CLIENT MODAL ============ */
.sidebar-title-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: var(--space-3);
}

.sidebar-title-row h2 {
  margin: 0;
}

.add-client-btn {
  padding: var(--space-2) var(--space-3);
  background: linear-gradient(135deg, var(--color-brand-primary) 0%, var(--color-brand-secondary) 100%);
  color: var(--dark-text-primary);
  border: none;
  border-radius: var(--radius-md);
  cursor: pointer;
  font-size: var(--text-xs);
  font-weight: var(--font-weight-medium);
  transition: all var(--transition-base);
  white-space: nowrap;
  box-shadow: var(--shadow-glow-blue);
}

.add-client-btn:hover {
  filter: brightness(1.1);
}

.new-client-modal {
  max-width: 45rem;
}

.form-row {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: var(--space-4);
}

.form-row .form-group {
  margin-bottom: var(--space-5);
}

.new-client-modal .form-group input[type="email"] {
  width: 100%;
  padding: var(--space-2) var(--space-3);
  background: var(--glass-input-bg);
  border: 1px solid var(--glass-input-border);
  border-radius: var(--radius-md);
  font-size: var(--text-sm);
  color: var(--dark-text-primary);
}

.new-client-modal .form-group input[type="email"]:focus {
  outline: none;
  border-color: var(--accent-blue);
  box-shadow: var(--shadow-glow-blue);
}

.product-type-selector {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: var(--space-3);
}

.product-option {
  display: flex;
  align-items: flex-start;
  gap: var(--space-3);
  padding: var(--space-4);
  background: var(--glass-panel);
  border: 2px solid var(--glass-border-subtle);
  border-radius: var(--radius-md);
  cursor: pointer;
  transition: all var(--transition-base);
}

.product-option:hover {
  border-color: var(--glass-border);
  background: var(--glass-panel-hover);
}

.product-option.selected {
  border-color: var(--accent-blue);
  background: rgba(96, 165, 250, 0.15);
}

.product-option input[type="radio"] {
  width: var(--space-4);
  height: var(--space-4);
  margin-top: 2px;
  cursor: pointer;
  flex-shrink: 0;
  accent-color: var(--accent-blue);
}

.product-option-content {
  display: flex;
  flex-direction: column;
  gap: var(--space-1);
}

.product-option-content strong {
  font-size: var(--text-base);
  color: var(--dark-text-primary);
}

.product-option-content span {
  font-size: var(--text-sm);
  color: var(--dark-text-muted);
}

.product-option.selected .product-option-content strong {
  color: var(--accent-blue);
}

.form-error {
  margin: var(--space-2) 0 0 0;
  font-size: var(--text-sm);
  color: var(--color-danger);
}

/* ============ RESPONSIVE - Mobile/Tablet (up to 48rem / 768px) ============ */
@media (max-width: 48rem) {
  .login-container {
    padding: var(--space-8) var(--space-6);
  }

  .login-btn {
    padding: var(--space-3) var(--space-4);
  }

  .dashboard-header {
    padding: var(--space-3) var(--space-4);
    flex-wrap: wrap;
    gap: var(--space-2);
  }

  .logo-small {
    font-size: var(--text-base);
  }

  .logo-small svg {
    width: var(--space-6);
    height: var(--space-6);
  }

  .user-name {
    font-size: var(--text-sm);
  }

  .dashboard-content {
    padding: var(--space-4);
  }

  .welcome-section h1 {
    font-size: var(--text-2xl);
  }

  .card {
    padding: var(--space-4);
  }

  .files-table {
    display: block;
    overflow-x: auto;
  }

  /* Mobile: Stack welcome section */
  .welcome-section {
    flex-direction: column;
    align-items: flex-start;
    gap: var(--space-4);
  }

  .welcome-progress {
    flex-direction: row;
    gap: var(--space-3);
  }

  .progress-ring-container {
    width: 3.5rem;
    height: 3.5rem;
  }

  .progress-ring-text {
    font-size: var(--text-base);
  }

  /* Mobile: Stack client dashboard grid */
  .client-dashboard-grid {
    grid-template-columns: 1fr;
    gap: var(--space-4);
  }

  /* File items smaller on mobile */
  .file-item {
    padding: var(--space-2);
  }

  .file-item .file-icon {
    font-size: var(--text-base);
  }

  /* Admin Mobile */
  .admin-layout {
    flex-direction: column;
  }

  .client-sidebar {
    width: 100% !important;
    max-height: 15rem;
    border-right: none;
    border-bottom: 1px solid var(--glass-border-subtle);
  }

  /* Don't collapse sidebar on mobile - always show expanded */
  .admin-layout.sidebar-collapsed-state .client-sidebar {
    width: 100% !important;
  }

  .admin-layout.sidebar-collapsed-state .sidebar-collapsed-content {
    display: none !important;
  }

  .admin-layout.sidebar-collapsed-state .sidebar-expanded {
    display: flex !important;
  }

  .sidebar-expand-btn {
    display: none !important;
  }

  /* Stack grid on mobile */
  .admin-sections-grid {
    grid-template-columns: 1fr;
  }

  .admin-main {
    padding: var(--space-4);
    flex: 1;
    min-height: calc(100vh - 4rem - 17.5rem);
  }

  .no-selection {
    min-height: 18.75rem;
    padding: var(--space-6);
  }

  .no-selection-icon {
    width: var(--space-16);
    height: var(--space-16);
  }

  .no-selection-icon svg {
    width: var(--space-8);
    height: var(--space-8);
  }

  .no-selection h2 {
    font-size: var(--text-xl);
  }

  .no-selection p {
    font-size: var(--text-sm);
  }

  .detail-header {
    flex-direction: column;
    gap: var(--space-4);
  }

  .product-info {
    text-align: left;
  }

  .final-record-admin {
    flex-direction: column;
    align-items: flex-start;
  }

  .record-actions {
    width: 100%;
    flex-direction: column;
  }

  .record-actions button {
    width: 100%;
  }

  /* Admin Nav Mobile */
  .admin-nav {
    margin-left: var(--space-4);
  }

  .nav-tab {
    padding: var(--space-2) var(--space-3);
    font-size: var(--text-xs);
  }

  .admin-templates-view {
    padding: var(--space-4);
  }

  .template-header {
    flex-direction: column;
    gap: var(--space-4);
    align-items: stretch;
  }

  .add-phase-btn {
    width: 100%;
  }

  .template-phase-header {
    flex-direction: column;
    align-items: flex-start;
    gap: var(--space-3);
  }

  .phase-actions {
    width: 100%;
    justify-content: flex-start;
  }

  .step-actions {
    opacity: 1;
  }
}

/* ============ SMALL MOBILE (up to 30rem / 480px) ============ */
@media (max-width: 30rem) {
  .login-container {
    padding: var(--space-6) var(--space-4);
  }

  .shield-icon {
    width: var(--space-16);
    height: var(--space-16);
  }

  .shield-icon svg {
    width: var(--space-10);
    height: var(--space-10);
  }

  .login-logo h1 {
    font-size: var(--text-2xl);
  }

  .login-btn .btn-icon {
    width: var(--space-10);
    height: var(--space-10);
  }

  .product-badge {
    flex-direction: column;
    align-items: flex-start;
    gap: var(--space-2);
  }

  .section-header {
    flex-direction: column;
    align-items: flex-start;
    gap: var(--space-3);
  }

  .section-header .upload-btn {
    width: 100%;
  }

  .header-left {
    flex-direction: column;
    align-items: flex-start;
    gap: var(--space-2);
  }

  .admin-nav {
    margin-left: 0;
    width: 100%;
  }

  .nav-tab {
    flex: 1;
    text-align: center;
  }
}

/* ============ LARGE DESKTOP (75rem / 1200px+) ============ */
@media (min-width: 75rem) {
  /* Dashboard Header */
  .dashboard-header {
    padding: var(--space-6) var(--space-12);
  }

  .logo-small {
    font-size: var(--text-xl);
    gap: var(--space-4);
  }

  .logo-small svg {
    width: var(--space-10);
    height: var(--space-10);
  }

  .badge.large {
    padding: var(--space-3) var(--space-6);
    font-size: var(--text-base);
  }

  .card {
    padding: var(--space-6);
    margin-bottom: var(--space-6);
  }

  /* Files Table - Enhanced */
  .files-table {
    font-size: var(--text-base);
  }

  .files-table th,
  .files-table td {
    padding: var(--table-cell-padding-lg);
  }

  /* Admin Panel - Wider sidebar */
  .client-sidebar {
    width: var(--sidebar-width-lg);
  }

  .admin-layout.sidebar-collapsed-state .client-sidebar {
    width: 5rem;
  }

  .sidebar-header h2 {
    font-size: var(--text-xl);
  }

  .search-input {
    padding: var(--space-3) var(--space-4);
    font-size: var(--text-base);
  }

  .client-info strong {
    font-size: var(--text-base);
  }

  .admin-main {
    padding: var(--space-12);
  }

  .client-detail {
    max-width: 68.75rem;
  }

  .detail-header h1 {
    font-size: var(--text-3xl);
  }

  .admin-section {
    padding: var(--space-8);
    margin-bottom: var(--space-8);
  }

  /* Phases Admin - Better grid */
  .phases-admin {
    gap: var(--space-6);
  }

  .phase-admin-item {
    padding: var(--space-5);
  }

  .phase-admin-item h3 {
    font-size: var(--text-base);
    margin-bottom: var(--space-4);
  }

  .step-checkbox {
    font-size: var(--text-base);
    padding: var(--space-1) 0;
  }

  /* Meetings Admin */
  .meetings-admin-list {
    gap: var(--space-5);
  }

  .meeting-admin-item {
    padding: var(--space-5);
  }

  /* Modal - Larger */
  .modal {
    max-width: var(--modal-width-md);
    padding: var(--space-10);
  }

  .modal h3 {
    font-size: var(--text-xl);
    margin-bottom: var(--space-5);
  }

  .upload-area {
    padding: var(--space-12);
  }

  .upload-icon {
    font-size: var(--text-4xl);
  }

  /* Phase Templates - Large desktop */
  .admin-templates-view {
    max-width: 75rem;
  }
}

/* ============ EXTRA LARGE DESKTOP (90rem / 1440px+) ============ */
@media (min-width: 90rem) {
  .dashboard-header {
    padding: var(--space-6) var(--space-16);
  }

  .product-badge {
    gap: var(--space-5);
  }

  .modules-list {
    font-size: var(--text-base);
  }

  .card {
    border-radius: var(--radius-xl);
  }

  /* Files Table */
  .files-table {
    font-size: var(--text-base);
  }

  .files-table th,
  .files-table td {
    padding: var(--space-5) var(--space-6);
  }

  /* Admin Panel - Maximum sidebar width */
  .client-sidebar {
    width: var(--sidebar-width-xl);
  }

  .admin-layout.sidebar-collapsed-state .client-sidebar {
    width: 5rem;
  }

  .admin-main {
    padding: var(--space-12) var(--space-16);
  }

  .client-detail {
    max-width: 75rem;
  }

  .detail-header {
    margin-bottom: var(--space-10);
    padding-bottom: var(--space-8);
  }

  .detail-header h1 {
    font-size: var(--text-3xl);
  }

  .admin-section {
    padding: var(--space-10);
    border-radius: var(--radius-xl);
  }

  .admin-section h2 {
    font-size: var(--text-xl);
    margin-bottom: var(--space-5);
  }

  /* Phases Admin - Three columns on wide screens */
  .phases-admin {
    grid-template-columns: repeat(3, 1fr);
    gap: var(--space-6);
  }

  .phase-admin-item {
    padding: var(--space-6);
  }

  /* Meetings Admin - Three columns */
  .meetings-admin-list {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: var(--space-6);
  }

  .meeting-admin-item {
    flex-direction: column;
    align-items: flex-start;
    gap: var(--space-3);
    padding: var(--space-6);
  }

  .meeting-admin-item > div:first-child {
    width: 100%;
  }

  .meeting-actions {
    width: 100%;
    justify-content: flex-end;
  }

  /* No Selection - Larger */
  .no-selection {
    height: 31.25rem;
  }

  .no-selection-icon {
    width: var(--space-20);
    height: var(--space-20);
  }

  .no-selection-icon svg {
    width: var(--space-12);
    height: var(--space-12);
  }

  .no-selection h2 {
    font-size: var(--text-2xl);
  }

  .no-selection p {
    font-size: var(--text-base);
  }

  /* Phase Templates - Extra large desktop */
  .admin-templates-view {
    max-width: 87.5rem;
    padding: var(--space-12);
  }

  .templates-list {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: var(--space-8);
  }

  .template-header h2 {
    font-size: var(--text-2xl);
  }
}

/* ============ ULTRA WIDE DESKTOP (120rem / 1920px+) ============ */
@media (min-width: 120rem) {
  .dashboard-header {
    padding: var(--space-6) var(--space-20);
  }

  .logo-small {
    font-size: var(--text-2xl);
  }

  .logo-small svg {
    width: var(--space-10);
    height: var(--space-10);
  }

  .badge.large {
    padding: var(--space-3) var(--space-6);
    font-size: var(--text-lg);
  }

  /* Admin Panel */
  .client-sidebar {
    width: var(--sidebar-width-2xl);
  }

  .admin-layout.sidebar-collapsed-state .client-sidebar {
    width: 5rem;
  }

  .sidebar-header {
    padding: var(--space-6);
  }

  .sidebar-header h2 {
    font-size: var(--text-xl);
  }

  .admin-main {
    padding: var(--space-16) var(--space-20);
  }

  .client-detail {
    max-width: 87.5rem;
  }

  .detail-header h1 {
    font-size: var(--text-4xl);
  }

  .admin-section {
    padding: var(--space-10);
  }

  .admin-section h2 {
    font-size: var(--text-xl);
  }

  /* Phase Templates - Ultra wide */
  .admin-templates-view {
    max-width: 100rem;
    padding: var(--space-16);
  }

  .template-header {
    padding: var(--space-8);
  }

  .template-header h2 {
    font-size: var(--text-2xl);
  }

  .templates-list {
    padding: var(--space-8);
  }
}

